<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_05) on Fri Feb 12 11:46:35 AST 2016 -->
<title>Upload</title>
<meta name="date" content="2016-02-12">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Upload";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../com/tacticalenterprisesltd/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Upload.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../com/tacticalenterprisesltd/UnknownFieldException.html" title="class in com.tacticalenterprisesltd"><span class="strong">Prev Class</span></a></li>
<li><a href="../../com/tacticalenterprisesltd/Upload.DbType.html" title="enum in com.tacticalenterprisesltd"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?com/tacticalenterprisesltd/Upload.html" target="_top">Frames</a></li>
<li><a href="Upload.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.tacticalenterprisesltd</div>
<h2 title="Class Upload" class="title">Class Upload</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.tacticalenterprisesltd.Upload</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Upload</span>
extends java.lang.Object</pre>
<div class="block"><p>Use this class to upload files.  For database cleanup you can allow Upload to perform
 its own routine, or you can provide your own routine by setting method setDbCleanInstance(DbClean dbc).
 See interface DbClean for more details.</p><p>There are two ways you can save the file you upload:<br>
 <ul>
 <li>save to a directory on the server</li>
 <li>save directly to a field in a table in the database</li>
 </ul></p>
 <p>The pros and cons of either method are hotly debated on java forums, but whichever one
 you choose, this class can handle it.  If you want to save your files to a directory
 on the server, use the constructor that has the parameter <i>systemPath</i>.  This property
 must be set so that JED knows where to save the files.  A sub-directory is created named
 <i>upload</i> which is appended to the systemPath. i.e.: C:\\my\\system\\path\\tomcat\\webapps\\editor[\\upload]</p>
 <p>If you want to save files directly to a database table field, the field should be of type
 TINYBLOB,BLOB,MEDIUMBLOB, OR LONGBLOB.  The types may be named something else in other database systems,
 but this is what they are named in MySQL.  As long as they hold large amounts of binary data, you're good to go.
 Use the constructors that don't require a systemPath.  In doing so, Upload will assume you're trying to
 save to the database itself.</p>
 <p>When creating the table that contains the files you upload, it should consist of any combination of the following
 field names:
 <ul>
 <li>content - the binary data of the file</li>
 <li>contenttype - this would be the same as mimetype</li>
 <li>mimetype - the mimetype of the file (same as contenttype)</li>
 <li>extension - the files extension. i.e.: .txt, .doc, .xlsx, .pdf</li>
 <li>filename - the name of the file (with the extension)</li>
 <li>filesize - the size of the file in bytes</li>
 <li>modified - a DATETIME field consisting of a timestamp. This field is automatically set by this class if used.</li>
 <li>web_path - the relative path to the file as it sits on the server</li>
 <li>system_path - the absolute path to your file as it sits on the server</li>
 </ul></p>
 <p>
 CONFIGURATION EXAMPLE:<br>
 <code>
 ...<br>
 Field field2 = new Field("mytable","somefield",Field.Type.STRING);<br>
 //By passing field2 as a parameter to the constructor of Upload, field2 then also contains<br>
 //a reference to the Upload instance and vise versa.<br>
 Upload upload = new Upload(editor,fileItem, getServletContext().getInitParameter("ContextPath"), field2);<br>
  <br>
  //We will be uploading only image files.  Set the file extensions permissible.<br>
  //The empty string indicates to Upload to use a default error message if a file is uploaded with the wrong extension.<br>
  upload.setImageExtensions("");<br>
  //Call the convenience method to tell Upload to check each files mime type. This is important to perform<br>
  //a deeper scan of the contents of the file to ensure the file is what its extension seems to indicate.<br>
  upload.setImageMimeTypes();<br>
  //Set the maximum file size for each file.<br>
  upload.setMaxFileSize(1024 * 50);  //50Kb<br>
  //Configure Upload by informing it of the database field names in the database<br>
  //on each file.<br>
  LinkedHashMap<String, Object> fds = new LinkedHashMap<String, Object>();<br>
  fds.put("filename",Upload.DbType.FileName);<br>
  fds.put("filesize",Upload.DbType.FileSize);<br>
  fds.put("web_path",Upload.DbType.WebPath);<br>
  fds.put("system_path",Upload.DbType.SystemPath);<br>
  upload.DbConfiguration("mytable", "id", fds);<br> 
  //Add field2 to editor<br>
  editor.addField(field2);<br>
  ...
 </code>
 </p></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>1.5.0</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Alan Shiers</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.DbType.html" title="enum in com.tacticalenterprisesltd">Upload.DbType</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#Upload(com.tacticalenterprisesltd.Editor, com.tacticalenterprisesltd.Field)">Upload</a></strong>(<a href="../../com/tacticalenterprisesltd/Editor.html" title="class in com.tacticalenterprisesltd">Editor</a>&nbsp;e,
      <a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</code>
<div class="block">Upload constructor - provide an instance of a Field</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#Upload(com.tacticalenterprisesltd.Editor, org.apache.commons.fileupload.FileItem, com.tacticalenterprisesltd.Field)">Upload</a></strong>(<a href="../../com/tacticalenterprisesltd/Editor.html" title="class in com.tacticalenterprisesltd">Editor</a>&nbsp;e,
      org.apache.commons.fileupload.FileItem&nbsp;item,
      <a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</code>
<div class="block">Upload constructor - provide an instance of FileItem and an instance of a Field</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#Upload(com.tacticalenterprisesltd.Editor, org.apache.commons.fileupload.FileItem, java.lang.String, com.tacticalenterprisesltd.Field)">Upload</a></strong>(<a href="../../com/tacticalenterprisesltd/Editor.html" title="class in com.tacticalenterprisesltd">Editor</a>&nbsp;e,
      org.apache.commons.fileupload.FileItem&nbsp;item,
      java.lang.String&nbsp;systemPath,
      <a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</code>
<div class="block">Upload constructor - provide an instance of FileItem and the absolute path to the web-app root directory, and an instance of a Field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#Upload(com.tacticalenterprisesltd.Editor, java.lang.String, com.tacticalenterprisesltd.Field)">Upload</a></strong>(<a href="../../com/tacticalenterprisesltd/Editor.html" title="class in com.tacticalenterprisesltd">Editor</a>&nbsp;e,
      java.lang.String&nbsp;systemPath,
      <a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</code>
<div class="block">Upload constructor - provide an absolute path to the web-app root directory and an instance of a Field.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#DbConfiguration(java.lang.String, java.lang.String, java.util.LinkedHashMap)">DbConfiguration</a></strong>(java.lang.String&nbsp;table,
               java.lang.String&nbsp;pkey,
               java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;&nbsp;fields)</code>
<div class="block">Database configuration method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a></code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#getField()">getField</a></strong>()</code>
<div class="block">Get the field this upload instance is associated with.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.apache.commons.fileupload.FileItem</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#getFileItem()">getFileItem</a></strong>()</code>
<div class="block">Get the FileItem that contains the actual content of the file uploaded.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#getMaxFileSize()">getMaxFileSize</a></strong>()</code>
<div class="block">Get the maximum file size</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#getPKeyFieldName()">getPKeyFieldName</a></strong>()</code>
<div class="block">Get the name of the tables primary key field</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#getRowID()">getRowID</a></strong>()</code>
<div class="block">Get the row id value of the record that needs updating</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#getSystemPath()">getSystemPath</a></strong>()</code>
<div class="block">Get the system path that leads to the storage directory for the uploaded files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#haveSystemPath()">haveSystemPath</a></strong>()</code>
<div class="block">Determine if we have a System Path.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setAllowableExtensions(java.lang.String[], java.lang.String)">setAllowableExtensions</a></strong>(java.lang.String[]&nbsp;extensions,
                      java.lang.String&nbsp;errorMessage)</code>
<div class="block">Provide a list of valid file extensions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setAllowableMimeTypes(java.util.LinkedHashMap)">setAllowableMimeTypes</a></strong>(java.util.LinkedHashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;types)</code>
<div class="block">Set mime types as they correspond with known file name extensions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setDbCleanInstance(com.tacticalenterprisesltd.DbClean)">setDbCleanInstance</a></strong>(<a href="../../com/tacticalenterprisesltd/DbClean.html" title="interface in com.tacticalenterprisesltd">DbClean</a>&nbsp;dbc)</code>
<div class="block">This method is very important in that you can set your own class that implements
 interface DbClean.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setField(com.tacticalenterprisesltd.Field)">setField</a></strong>(<a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</code>
<div class="block">Set the field this upload instance is associated with.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setFileItem(org.apache.commons.fileupload.FileItem)">setFileItem</a></strong>(org.apache.commons.fileupload.FileItem&nbsp;item)</code>
<div class="block">Set the FileItem which has been tested to contain the contents of the file uploaded.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setImageExtensions(java.lang.String)">setImageExtensions</a></strong>(java.lang.String&nbsp;errorMessage)</code>
<div class="block">A convenience method to set allowable file extensions on image type files.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setImageMimeTypes()">setImageMimeTypes</a></strong>()</code>
<div class="block">Convenience setter for mime types of type image.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setMaxFileSize(int)">setMaxFileSize</a></strong>(int&nbsp;size)</code>
<div class="block">Set the maximum file size</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setPKeyFieldName(java.lang.String)">setPKeyFieldName</a></strong>(java.lang.String&nbsp;pkey)</code>
<div class="block">Set the name of the tables primary key field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setRowID(int)">setRowID</a></strong>(int&nbsp;id)</code>
<div class="block">Set the row id value of a record that needs updating</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../com/tacticalenterprisesltd/Upload.html#setSystemPath(java.lang.String)">setSystemPath</a></strong>(java.lang.String&nbsp;path)</code>
<div class="block">Set the system path that leads to the root of the web-app.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Upload(com.tacticalenterprisesltd.Editor, com.tacticalenterprisesltd.Field)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Upload</h4>
<pre>public&nbsp;Upload(<a href="../../com/tacticalenterprisesltd/Editor.html" title="class in com.tacticalenterprisesltd">Editor</a>&nbsp;e,
      <a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</pre>
<div class="block">Upload constructor - provide an instance of a Field</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - An instance of Editor</dd><dd><code>field</code> - An instance of Field</dd></dl>
</li>
</ul>
<a name="Upload(com.tacticalenterprisesltd.Editor, org.apache.commons.fileupload.FileItem, com.tacticalenterprisesltd.Field)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Upload</h4>
<pre>public&nbsp;Upload(<a href="../../com/tacticalenterprisesltd/Editor.html" title="class in com.tacticalenterprisesltd">Editor</a>&nbsp;e,
      org.apache.commons.fileupload.FileItem&nbsp;item,
      <a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</pre>
<div class="block">Upload constructor - provide an instance of FileItem and an instance of a Field</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - </dd><dd><code>item</code> - A FileItem instance</dd><dd><code>field</code> - An instance of Field</dd></dl>
</li>
</ul>
<a name="Upload(com.tacticalenterprisesltd.Editor, java.lang.String, com.tacticalenterprisesltd.Field)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Upload</h4>
<pre>public&nbsp;Upload(<a href="../../com/tacticalenterprisesltd/Editor.html" title="class in com.tacticalenterprisesltd">Editor</a>&nbsp;e,
      java.lang.String&nbsp;systemPath,
      <a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</pre>
<div class="block">Upload constructor - provide an absolute path to the web-app root directory and an instance of a Field.
 A directory will be appended to the web-app root named "upload".  This directory will be where the actual files will be stored.
 If you're NOT going to store the files on the server but directly into the database, use one of the other constructors that don't require
 a systemPath as a parameter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - An instance of Editor</dd><dd><code>systemPath</code> - A String path</dd><dd><code>field</code> - An instance of Field</dd></dl>
</li>
</ul>
<a name="Upload(com.tacticalenterprisesltd.Editor, org.apache.commons.fileupload.FileItem, java.lang.String, com.tacticalenterprisesltd.Field)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Upload</h4>
<pre>public&nbsp;Upload(<a href="../../com/tacticalenterprisesltd/Editor.html" title="class in com.tacticalenterprisesltd">Editor</a>&nbsp;e,
      org.apache.commons.fileupload.FileItem&nbsp;item,
      java.lang.String&nbsp;systemPath,
      <a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</pre>
<div class="block">Upload constructor - provide an instance of FileItem and the absolute path to the web-app root directory, and an instance of a Field.
 A directory will be appended to the web-app root named "upload".  This directory will be where the actual files will be stored.
 If you're NOT going to store the files on the server but directly into the database, use one of the other constructors that don't require
 a systemPath as a parameter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - An instance of Editor</dd><dd><code>item</code> - A FileItem instance</dd><dd><code>systemPath</code> - A String path</dd><dd><code>field</code> - An instance of Field</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setPKeyFieldName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPKeyFieldName</h4>
<pre>public&nbsp;void&nbsp;setPKeyFieldName(java.lang.String&nbsp;pkey)</pre>
<div class="block">Set the name of the tables primary key field.
 If not set, the default is &quot;id&quot;</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pkey</code> - </dd></dl>
</li>
</ul>
<a name="getPKeyFieldName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPKeyFieldName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPKeyFieldName()</pre>
<div class="block">Get the name of the tables primary key field</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="setRowID(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRowID</h4>
<pre>public&nbsp;void&nbsp;setRowID(int&nbsp;id)</pre>
<div class="block">Set the row id value of a record that needs updating</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - </dd></dl>
</li>
</ul>
<a name="getRowID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRowID</h4>
<pre>public&nbsp;int&nbsp;getRowID()</pre>
<div class="block">Get the row id value of the record that needs updating</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="setDbCleanInstance(com.tacticalenterprisesltd.DbClean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDbCleanInstance</h4>
<pre>public&nbsp;void&nbsp;setDbCleanInstance(<a href="../../com/tacticalenterprisesltd/DbClean.html" title="interface in com.tacticalenterprisesltd">DbClean</a>&nbsp;dbc)</pre>
<div class="block">This method is very important in that you can set your own class that implements
 interface DbClean.  The interface has one method clean(int[] ids).  Your concrete 
 class will return a boolean on the method signifying a completed action on the database
 cleanup and any other actions you deem necessary.  An array of ids will be provided
 by Uploads internal method of for database cleanup.  The ids are those of records
 in your database table that are no longer being referenced and should be deleted.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dbc</code> - </dd></dl>
</li>
</ul>
<a name="setImageMimeTypes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setImageMimeTypes</h4>
<pre>public&nbsp;void&nbsp;setImageMimeTypes()</pre>
<div class="block">Convenience setter for mime types of type image.
 These include: "image/jpeg", "image/png", "image/gif"</div>
</li>
</ul>
<a name="setAllowableMimeTypes(java.util.LinkedHashMap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllowableMimeTypes</h4>
<pre>public&nbsp;void&nbsp;setAllowableMimeTypes(java.util.LinkedHashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;types)</pre>
<div class="block">Set mime types as they correspond with known file name extensions.
 
 Example:
 <blockquote> 
 <pre><br>
 LinkedHashMap<String,String> mimetypes = new LinkedHashMap<String,String>();<br>
 mimetypes.put("tar","application/x-tar");<br>
 mimetypes.put("zip","application/zip");<br>
 mimetypes.put("docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document");<br>
 mimetypes.put("xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");<br>
 </pre>
 </blockquote></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>types</code> - </dd><dt><span class="strong">See Also:</span></dt><dd><code>for list of all possible mimetypes</code></dd></dl>
</li>
</ul>
<a name="setMaxFileSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxFileSize</h4>
<pre>public&nbsp;void&nbsp;setMaxFileSize(int&nbsp;size)</pre>
<div class="block">Set the maximum file size</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - </dd></dl>
</li>
</ul>
<a name="getMaxFileSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxFileSize</h4>
<pre>public&nbsp;int&nbsp;getMaxFileSize()</pre>
<div class="block">Get the maximum file size</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="setSystemPath(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSystemPath</h4>
<pre>public&nbsp;void&nbsp;setSystemPath(java.lang.String&nbsp;path)</pre>
<div class="block">Set the system path that leads to the root of the web-app. A default directory named "upload"
 will be appended to the path.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - </dd></dl>
</li>
</ul>
<a name="getSystemPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSystemPath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getSystemPath()</pre>
<div class="block">Get the system path that leads to the storage directory for the uploaded files.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="haveSystemPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>haveSystemPath</h4>
<pre>public&nbsp;boolean&nbsp;haveSystemPath()</pre>
<div class="block">Determine if we have a System Path. Knowing this will signify whether or not
 we are saving files to the server or directly to the database.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a boolean value</dd></dl>
</li>
</ul>
<a name="setFileItem(org.apache.commons.fileupload.FileItem)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFileItem</h4>
<pre>public&nbsp;void&nbsp;setFileItem(org.apache.commons.fileupload.FileItem&nbsp;item)</pre>
<div class="block">Set the FileItem which has been tested to contain the contents of the file uploaded.
 The test process is done usually in a java server page or servlet which queries
 for MultiPartContent then separates form field content from file content.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>item</code> - </dd></dl>
</li>
</ul>
<a name="getFileItem()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileItem</h4>
<pre>public&nbsp;org.apache.commons.fileupload.FileItem&nbsp;getFileItem()</pre>
<div class="block">Get the FileItem that contains the actual content of the file uploaded.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a FileItem</dd></dl>
</li>
</ul>
<a name="setField(com.tacticalenterprisesltd.Field)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setField</h4>
<pre>public&nbsp;void&nbsp;setField(<a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;field)</pre>
<div class="block">Set the field this upload instance is associated with.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>field</code> - </dd></dl>
</li>
</ul>
<a name="getField()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getField</h4>
<pre>public&nbsp;<a href="../../com/tacticalenterprisesltd/Field.html" title="class in com.tacticalenterprisesltd">Field</a>&nbsp;getField()</pre>
<div class="block">Get the field this upload instance is associated with.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="setAllowableExtensions(java.lang.String[], java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllowableExtensions</h4>
<pre>public&nbsp;void&nbsp;setAllowableExtensions(java.lang.String[]&nbsp;extensions,
                          java.lang.String&nbsp;errorMessage)</pre>
<div class="block">Provide a list of valid file extensions. This is for simple
 validation that the file is of the expected type. Extensions must be provided
 to ensure minimally validation is performed on the extension of the file name.  To ensure deeper
 validation on the content of each file uploaded, be sure to call methods
 setImageMimeTypes() or setAllowableMimeTypes(). Provide an error message in the event
 that the file uploaded doesn't pass the validation phase. If you pass an empty
 String, a default message will be set.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>extensions</code> - </dd><dd><code>errorMessage</code> - </dd></dl>
</li>
</ul>
<a name="setImageExtensions(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setImageExtensions</h4>
<pre>public&nbsp;void&nbsp;setImageExtensions(java.lang.String&nbsp;errorMessage)</pre>
<div class="block">A convenience method to set allowable file extensions on image type files.
 These would include: jpg,gif,png, and tif
 Provide an error message in the event
 that the file uploaded doesn't pass the validation phase.  If you pass an empty
 String, a default message will be set.</div>
</li>
</ul>
<a name="DbConfiguration(java.lang.String, java.lang.String, java.util.LinkedHashMap)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DbConfiguration</h4>
<pre>public&nbsp;void&nbsp;DbConfiguration(java.lang.String&nbsp;table,
                   java.lang.String&nbsp;pkey,
                   java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;&nbsp;fields)</pre>
<div class="block">Database configuration method. When used, this method will tell Editor
 what information you want to be written to a database on file upload, should
 you wish to store relational information about your files on the database
 (this is generally recommended).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>table</code> - - Name of the table where the file information should be stored</dd><dd><code>pkey</code> - - Primary key column name. This is required so each row can be uniquely identified.</dd><dd><code>fields</code> - - A list of the fields to be written to on upload. The
 LinkedHashMap keys are used as the database column names and the values can be
 defined by the 'DbType' enum of this class. The value can also be a string,
 which will be written directly to the database, or a function which will be
 executed and the returned value written to the database.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../com/tacticalenterprisesltd/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Upload.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../com/tacticalenterprisesltd/UnknownFieldException.html" title="class in com.tacticalenterprisesltd"><span class="strong">Prev Class</span></a></li>
<li><a href="../../com/tacticalenterprisesltd/Upload.DbType.html" title="enum in com.tacticalenterprisesltd"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?com/tacticalenterprisesltd/Upload.html" target="_top">Frames</a></li>
<li><a href="Upload.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
